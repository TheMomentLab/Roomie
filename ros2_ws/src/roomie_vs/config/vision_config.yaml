
# Roomie Vision Service Configuration

# General Settings
headless_mode: false
flip_horizontal: false # Rear camera flip

# Model and Detection Settings
yolo:
  confidence_threshold: 0.7
  # Paths will be relative to the package share directory
  models:
    normal: "training/normal/best.pt"
    elevator: "training/elevator/best_v2.pt"
  button_cnn_model: "training/button_cnn/best_smart_balanced_model_32px_with_metadata.pth"
  button_pressed_cnn_model: "training/button_pressed_cnn/best_roomie_button_model_32px_with_metadata.pth"

# Person Tracking (DeepSORT)
person_tracker:
  max_age: 30
  n_init: 3
  nms_max_overlap: 0.5
  max_cosine_distance: 0.5
  registration_duration: 3.0
  fallback_tracking_enabled: true
  required_frames_for_state_change: 5

# Obstacle Detection
obstacle_detector:
  min_distance_m: 0.1
  max_distance_m: 3.0
  confidence_threshold: 0.5
  publish_interval_sec: 1.0
  detection_rate_threshold: 0.6 # 60%

# Display OCR
display_ocr:
  cache_timeout_sec: 3.0
  stable_result_timeout_sec: 10.0
  valid_floors: ['B2', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12']
  debug_dir: "/tmp/roomie_vs_debug"
  crop_margin: 5
  use_simple_crop: true
  min_confidence: 0.3
  ocr_skip_frames: 5

# GPU Monitor
gpu_monitor:
  enabled: true
  max_memory_mb: 4096
  check_interval_sec: 3.0

# UDP Video Streamer
udp_streamer:
  target_ip: "127.0.0.1"
  target_port: 5005
  max_fps: 15
  quality: 70

# Elevator specific
elevator:
  direction_light_brightness_threshold: 180
